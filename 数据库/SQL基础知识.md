# SELECT

- 定义：用于从表中选取数据。结果被存储在一个结果表中（称为结果集）。

- 语法：`SELECT 列名称 FROM 表名称;`

# DISTINCT用法
在表中，可能会包含重复值。关键词`DISTINCT`用于返回唯一不同的值。
- 语法：`SELECT DISTINCT 列名称 FROM 表名称;`

> 如果某个字段或某几个字段所对应的记录都重复了，使用DISTINCT就可以只显示一条记录，简言之就是**去重**。

# TOP用法
- 定义：用于规定要返回的记录的数目。
> 并非所有的数据库系统都支持TOP子句

- 语法：`SELECT TOP number|percent columns FROM 表名称;`

- MySQL类似TOP语法：`SELECT columns FROM 表名称 LIMIT number;`
> 例如：`selct * from Customers LIMIT 5;`

# WHERE用法
有条件地从表中选取数据
- 语法：`SELECT 列名称 FROM 表名称 WHERE 列 运算符 值;`

可在WHERE中使用的运算符如下：

|操作符|描述|
|:-|:-|
|=| 等于|
|<>|不等于|
|>|大于|
|<|小于|
|>=|大于等于|
|<=|小于等于|
|BETWEEN|在某个范围内|
|LIKE|搜索某种模式|
|IN|指定针对某个列的多个可能值|
|EXISTS|在子查询中匹配到符合条件的数据行|

> 例如：`select * from Customers where 城市='北京';`
>
> PS:SQL使用单引号环绕文本值

# AND和OR运算符

- 作用：基于一个以上的条件对记录进行过滤

- 使用：
  * AND和OR可以在WHERE子语句中把两个或多个条件结合起来
  * 如果第一个条件和第二个条件都成立，则AND运算符显示一天记录
  * 如果只要有一个成立，则OR运算符显示一条记录

如下表Customers:

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|5|赵七|西二旗12号|北京|100000|北京市|

## AND运算符
使用AND来显示姓名为“张三”并且城市为“上海”的人：`select * from Customers where 姓名='张三' and 城市='上海';`

结果：

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|

## OR运算符
`select * from Customers where 姓名='张三' or 城市='北京';`

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|
|5|赵七|西二旗12号|北京|100000|北京市|

## AND和OR结合
Order表如下

|订单ID|客户ID|员工ID|订单日期|发货ID|
|:-|:-|:-|:-|:-|
|1 | 3| 9|2018-09-21 00:00:00.000 | 3|
| 2| 4| 9|2018-06-28 00:00:00.000 | 5|
| 3| 6| 3|2018-09-21 00:00:00.000 | 3|
| 4| 3| 7|2018-09-28 00:00:00.000 | 4|
| 5| 1| 4|2018-09-30 00:00:00.000 | 4|

客户ID是1或者3并且两个客户的发货ID都是4的订单信息

`select * from Orders where (客户ID=3 or 客户ID=1) and 发货ID=4;`

|订单ID|客户ID|员工ID|订单日期|发货ID|
|:-|:-|:-|:-|:-|
| 4| 3| 7|2018-09-28 00:00:00.000 | 4|
| 5| 1| 4|2018-09-30 00:00:00.000 | 4|


# ORDER BY
- 作用：用于按升序（ASC）或降序（DESC）对结果集进行排序

- 默认情况下是升序

- 语法：
```sql
select column1,column2,... from 表名
order by column1,column2,... ASC|DESC;
```

Customer表

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|5|赵七|西二旗12号|北京|100000|北京市|

从表中选取所有客户，并按照省份列排序：
```sql
select * from Customers
order by 省份;
```

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|5|赵七|西二旗12号|北京|100000|北京市|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|

> 拼音首字母

## 添加两行数据
```sql
insert into Customers(客户ID,姓名,地址,城市,邮编,省份)
values (6,'宋一','花城大道21号','广州','510000','广东省'),
       (7,'刘二','长安街121号','北京','100000','北京市');
```

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|5|赵七|西二旗12号|北京|100000|北京市|
|6|宋一|花城大道21号|广州|510000|广东省|
|7|刘二|长安街121号|北京|100000|北京市|

```sql
#选取所有客户，并按照省份和姓名列排序
select * from Customers order by 省份,姓名;
```

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|7|刘二|长安街121号|北京|100000|北京市|
|5|赵七|西二旗12号|北京|100000|北京市|
|6|宋一|花城大道21号|广州|510000|广东省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|

> 省份一致的前提下，去以姓名排序

```sql
#省份升序，姓名降序
select * from Customers order by 省份 ASC,姓名 DESC;
```

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|7|刘二|长安街121号|北京|100000|北京市|
|5|赵七|西二旗12号|北京|100000|北京市|
|6|宋一|花城大道21号|广州|510000|广东省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|

# INSERT　INTO
- 插入新记录

- 两种形式
  * 表单没有指定要插入数据的列名称，只提供要插入的值：`insert into 表名 (column1,columnn2,...) values (value1,value2,...);`
  * 为所有列添加值`insert into 表名 values (value1,value2,...);`


# UPDATE
- 语法：`update 表名 set 列名=value1, 列名=value2, ... where 条件;`

> 注意：where子句指定哪些记录需要更新。如果省略where子句，所有记录都将更新

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|张三|北京路27号|上海|200000|上海市|
|2|李四|南京路12号|杭州|310000|浙江省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|5|赵七|西二旗12号|北京|100000|北京市|
|6|宋一|花城大道21号|广州|510000|广东省|
|7|刘二|长安街121号|北京|100000|北京市|

```sql
# 为第一个客户（姓名='张三'）更新'姓名','城市'以及'省份':
update Customers
set 姓名='鲁智深',城市='平凉',省份='甘肃省'
where 姓名='张三';
```

|客户ID|姓名|地址|城市|邮编|省份|
|:-|:-:|:-|:-|:-|:-|
|1|鲁智深|北京路27号|平凉|200000|甘肃省|
|2|李四|南京路12号|杭州|310000|浙江省|
|3|王五|花城大道17号|广州|510000|广东省|
|4|马六|江夏路19号|武汉|430000|湖北省|
|5|赵七|西二旗12号|北京|100000|北京市|
|6|宋一|花城大道21号|广州|510000|广东省|
|7|刘二|长安街121号|北京|100000|北京市|

## update警告！
如果省略where子句，所有记录将被更新！

# DELETE
- 语法：`delete from 表名 where 条件;`

> 删除表中数据时要小心！如果省略where子句，表中所有记录都将被删除