## 页面跳转

服务器将请求和响应封装成了request和response

Java Web服务端控制页面跳转的方式主要有两种：重定向和转发

#### 1. 重定向

- 重定向就是通过各种方法将网络请求重新定向转到其他位置

- 实现原理

  ```
  客户浏览器发送http请求 ---> web服务器接收后发送302状态码响应及对应新的location给客户端浏览器 ---> 客户浏览器发现是302响应，则自动再发送一个新的http请求，请求的url是新的location地址 ---> 服务器根据此请求寻找资源并发送给客户。
  
  location可以重新定向到任意url，既然是浏览器重新发出来请求，就没有什么request传递的概念。在客户端浏览器路径栏显示的是其重定向的路径，客户可以观察到地址的变化。
  例：淘宝未登录时点击购物车 会重定向到登录页面
  ```

- 特点

  - 重定向是客户端行为
  - 重定向是浏览器做了至少两次的访问请求
  - 重定向浏览器地址改变
  - 重定向两次跳转之间传输的信息会丢失（request范围）
  - 重定向可以指向任何的资源，包括当前应用程序中的其他资源，同一个站点上的其他应用程序中的资源，其他站点的资源。注意：传递给`HttpServletResponse.sendRedirect`方法的相对url以`/`开头，它是相对于整个web站点的根目录

#### 2. 转发

web服务器接收请求后，转发给别处处理，处理后的结果响应给浏览器

> 始终只有浏览器发出的一次请求，web内部自己处理，浏览器根本感觉不到转发

`request.getRequestDispatcher(newurl).forward(request, response);`带着浏览器请求的数据，转发到新的newurl（同一个项目下的资源）去处理